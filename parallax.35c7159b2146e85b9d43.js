/*! For license information please see parallax.35c7159b2146e85b9d43.js.LICENSE.txt */
"use strict";(self.webpackChunkwebpack_aem=self.webpackChunkwebpack_aem||[]).push([["parallax"],{"./node_modules/simple-parallax-js/dist/react/simpleParallax.es.js":(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ W)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");\n\nconst v = (e) => {\n  const [t, n] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0), [a, c] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1), s = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null), r = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    s.current && n(s.current.height);\n  }, []);\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    const l = () => {\n      c(!0), r();\n    }, d = s.current;\n    return d && (d.complete ? l() : d.addEventListener("load", l)), window.addEventListener("resize", r), () => {\n      d && d.removeEventListener("load", l), window.removeEventListener("resize", r);\n    };\n  }, [e, r]), [s, t, a];\n}, P = (e = {}) => {\n  const [t, n] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1), a = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    const c = new IntersectionObserver(\n      (r) => {\n        const [l] = r;\n        l && (l.isIntersecting ? n(!0) : n(!1));\n      },\n      {\n        ...e\n      }\n    ), { current: s } = a;\n    return s && c.observe(s), () => {\n      s && c.unobserve(s);\n    };\n  }, [e]), [a, t];\n};\nclass x {\n  constructor() {\n    this.callbacks = /* @__PURE__ */ new Set(), this.animationFrameId = null;\n  }\n  static getInstance() {\n    return x.instance || (x.instance = new x()), x.instance;\n  }\n  register(t) {\n    this.callbacks.add(t), this.animationFrameId === null && this.start();\n  }\n  unregister(t) {\n    this.callbacks.delete(t), this.callbacks.size === 0 && this.animationFrameId !== null && this.stop();\n  }\n  start() {\n    const t = () => {\n      this.callbacks.forEach((n) => n()), this.animationFrameId = requestAnimationFrame(t);\n    };\n    this.animationFrameId = requestAnimationFrame(t);\n  }\n  stop() {\n    this.animationFrameId !== null && (cancelAnimationFrame(this.animationFrameId), this.animationFrameId = null);\n  }\n}\nconst k = x.getInstance(), z = (e, t) => e * t - e, A = (e, t) => Math.ceil(e / 100 * t - t / 2), C = (e, t) => {\n  const { top: n, height: a } = e;\n  let c = -a;\n  const s = t;\n  if (n < c)\n    return 0;\n  if (n > s)\n    return 100;\n  const r = (n - c) / (s - c) * 100;\n  return Math.round(Math.min(Math.max(r, 0), 100) * 100) / 100;\n}, N = (e, t) => {\n  switch (t) {\n    case "up":\n      return `0, ${e}px, 0`;\n    case "right":\n      return `${-e}px, 0, 0`;\n    case "down":\n      return `0, ${-e}px, 0`;\n    case "left":\n      return `${e}px, 0, 0`;\n    case "up left":\n      return `${e}px, ${e}px, 0`;\n    case "up right":\n      return `${-e}px, ${e}px, 0`;\n    case "down left":\n      return `${e}px, ${-e}px, 0`;\n    case "down right":\n      return `${-e}px, ${-e}px, 0`;\n    default:\n      return `0, ${e}px, 0`;\n  }\n}, B = () => {\n  const [e, t] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    const n = () => {\n      t(window.innerHeight);\n    };\n    if (typeof window < "u")\n      return t(window.innerHeight), window.addEventListener("resize", n), () => {\n        window.removeEventListener("resize", n);\n      };\n  }, []), e;\n}, R = ({\n  isLoaded: e,\n  imageHeight: t,\n  scale: n,\n  boundingClientRect: a,\n  orientation: c,\n  maxTransition: s\n}) => {\n  const [r, l] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""), d = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)({\n    rangeMax: 0,\n    lastImageHeight: 0,\n    lastScale: 0,\n    lastTranslateValue: -999999,\n    lastTransformString: ""\n  }), o = B();\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (!e || !a || !o)\n      return;\n    const i = d.current;\n    (i.lastImageHeight !== t || i.lastScale !== n) && (i.rangeMax = z(t, n), i.lastImageHeight = t, i.lastScale = n);\n    let h = C(a, o);\n    s && (h = Math.min(h, 100 - s));\n    const p = A(h, i.rangeMax);\n    if (i.lastTranslateValue !== p) {\n      const g = N(p, c);\n      g !== i.lastTransformString && (i.lastTranslateValue = p, i.lastTransformString = g, l(g));\n    }\n  }, [\n    e,\n    t,\n    n,\n    a,\n    c,\n    s,\n    o\n  ]), r;\n}, j = () => {\n  const [e, t] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1);\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (typeof window > "u")\n      return;\n    const n = window.matchMedia("(prefers-reduced-motion: reduce)");\n    t(n.matches);\n    const a = (c) => {\n      t(c.matches);\n    };\n    return n.addEventListener("change", a), () => {\n      n.removeEventListener("change", a);\n    };\n  }, []), e;\n}, q = ({\n  scale: e,\n  overflow: t,\n  delay: n,\n  transition: a,\n  orientation: c,\n  maxTransition: s,\n  isVisible: r,\n  isLoaded: l,\n  imageHeight: d,\n  imageRef: o\n}) => {\n  const [i, h] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1), [p, g] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0), [T, y] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\n    null\n  ), [$, E] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1), u = j(), M = R({\n    isLoaded: l,\n    imageHeight: d,\n    scale: e,\n    boundingClientRect: T,\n    orientation: c,\n    maxTransition: s\n  }), S = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (w) => {\n      if (!o.current || u || !w) return;\n      let I = `translate3d(${w})`;\n      t || (I += ` scale(${e})`), o.current.style.transform = I;\n    },\n    [o, e, t, u]\n  ), L = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (w) => {\n      if (!o.current || u) return;\n      const I = w && n > 0 ? `transform ${n}s ${a}` : "";\n      o.current.style.transition = I;\n    },\n    [o, n, a, u]\n  ), V = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    var w;\n    if (!(!r && i || u) && (window.scrollY !== p || !i)) {\n      const I = (w = o.current) == null ? void 0 : w.getBoundingClientRect();\n      I && y(I), i || setTimeout(() => {\n        E(!0);\n      }, 50), g(window.scrollY);\n    }\n  }, [p, r, o, i, u]);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    M && (r || !i) && (S(M), h(!0));\n  }, [M, r, i, S]), (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    !t && l && o.current && !u && (o.current.style.transform = `scale(${e})`);\n  }, [e, t, l, u]), (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    L($);\n  }, [$, L]), (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => (u || k.register(V), () => {\n    k.unregister(V);\n  }), [V, u]), (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    u && o.current && (o.current.style.transform = "", o.current.style.transition = "");\n  }, [u]);\n};\nvar G = "/Users/geoffrey/Desktop/perso/simpleParallax.js/src/react/index.tsx";\nconst W = ({\n  delay: e = 0.4,\n  orientation: t = "up",\n  scale: n = 1.4,\n  overflow: a = !1,\n  transition: c = "cubic-bezier(0,0,0,1)",\n  maxTransition: s = null,\n  children: r\n}) => {\n  var $;\n  const l = t ?? "up", d = n ?? 1.2, o = ($ = r == null ? void 0 : r.props) == null ? void 0 : $.src, [i, h, p] = v(o), [g, T] = P({\n    root: null,\n    rootMargin: "0px",\n    threshold: Array.from(Array(101).keys(), (E) => E / 100)\n  });\n  q({\n    scale: d,\n    overflow: a,\n    delay: e,\n    transition: c,\n    orientation: l,\n    maxTransition: s,\n    isVisible: T,\n    isLoaded: p,\n    imageHeight: h,\n    imageRef: i\n  });\n  const y = react__WEBPACK_IMPORTED_MODULE_0__.isValidElement(r) ? react__WEBPACK_IMPORTED_MODULE_0__.cloneElement(r, {\n    ref: i\n  }) : null;\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", { ref: g, style: {\n    overflow: a ? "visible" : "hidden"\n  }, __self: void 0, __source: {\n    fileName: G,\n    lineNumber: 47,\n    columnNumber: 3\n  } }, y);\n};\n\n\n\n//# sourceURL=webpack://webpack-aem/./node_modules/simple-parallax-js/dist/react/simpleParallax.es.js?')}}]);